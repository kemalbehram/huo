webpackJsonp([18],{13:function(t,i){t.exports=libs_7c26364e},713:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=e(93),o=e.n(n),r=e(714),s=(e.n(r),e(17)),a=e(28),c=e(26),h=(e(63),e(97)),d=e.n(h);s.a.use(a.a),window.onload=function(){Object(c.b)(),new s.a({data:function(){return{form:{loginPwd1:"",loginPwd2:"",tradePwd1:"",tradePwd2:"",captcha:"",regtype:"",code:""},formTips:{loginPwd1:null,loginPwd2:null,tradePwd1:null,tradePwd2:null,captcha:"",code:""},formVis:{loginPwd1:!1,loginPwd2:!1,tradePwd1:!1,tradePwd2:!1},captchaSrc:"",codeTime:0,fixSucc:!1,gettingSms:!1,submitting:!1}},created:function(){this.changeCap()},mounted:function(){},methods:{getRegType:function(t){this.form.regtype=t},pwdLev:function(t){var i=0;return t.match(/[0-9]+/g)&&i++,t.match(/[a-z]+/g)&&i++,t.match(/[A-Z]+/g)&&i++,t.match(/[~\!@#%\$\^&\*()\+\-\=\|:\;\,\_\'\"\.<>\/?*]+/g)&&i++,i},hasSpace:function(t){return t.match(/\s+/)},loginPwdCheck:function(t){return t.length<6?3:this.hasSpace(t)?4:this.pwdLev(t)<3?5:6},checkInp:function(t){var i=this.form[t],e=0;if(0===i.length)e=0;else switch(t){case"loginPwd1":e=this.form.loginPwd1===this.form.tradePwd1||this.form.loginPwd1===this.form.tradePwd2?8:this.loginPwdCheck(i);break;case"loginPwd2":e=this.form.loginPwd2===this.form.tradePwd1||this.form.loginPwd2===this.form.tradePwd2?8:this.form.loginPwd1!=this.form.loginPwd2?7:this.loginPwdCheck(i);break;case"tradePwd1":e=this.form.loginPwd1===this.form.tradePwd1||this.form.loginPwd2===this.form.tradePwd1?8:this.loginPwdCheck(i);break;case"tradePwd2":e=this.form.loginPwd1===this.form.tradePwd2||this.form.loginPwd2===this.form.tradePwd2?8:this.form.tradePwd1!=this.form.tradePwd2?7:this.loginPwdCheck(i);break;case"captcha":e=i.length<4?3:6;break;case"code":e=i.length<6?3:6}return e},focus:function(t){this.formTips[t]=1},blur:function(t){var i=!0,e=this.checkInp(t);return 6!=e&&(i=!1),this.formTips[t]=e,i},ramdomNum:function(){return parseInt(1e7*Math.random())},changeCap:function(){this.captchaSrc="/index/captcha?v="+this.ramdomNum()},countDown:function(){var t=this;this.codeTime=60,this.codeMark=setInterval(function(){t.codeTime<=0?clearTimeout(t.codeMark):t.codeTime--},1e3)},getVsCode:function(){var t=this;if(!this.blur("captcha"))return void(this.form.captcha||(this.formTips.captcha=2));if(!(this.codeTime>0||this.gettingSms)){this.gettingSms=!0,this.countDown();var i=null,e=null;"phone"===this.form.regtype?(i="/Ajax_User/sms",e={action:7,captcha:this.form.captcha}):(i="Emailverify/findpwd",e={regtype:"trust"}),this.$http.post(i,e).then(function(i){var e=i.status,n=i.data,o=i.msg;1!=parseInt(e)&&(t.formTips[n]=o,t.changeCap(),t.codeTime=0,clearTimeout(t.codeMark)),t.gettingSms=!1}).catch(function(i){t.gettingSms=!1})}},submit:function(){var t=this;this.form;var i=!0;d.a.keys(this.form).forEach(function(e){if("regtype"!=e)if(t.form[e]){var n=t.checkInp(e);6!=n&&(i=!1,t.formTips[e]=n)}else i=!1,t.formTips[e]=2}),i&&(this.submitting||(this.submitting=!0,this.$http.post("/ajax_user/resetPwds",o()({},this.form)).then(function(i){var e=i.status,n=i.data,o=i.msg;n.need_login&&n.need_login&&(location.href="/?login"),1===parseInt(e)?(t.fixSucc=!0,sessionStorage.setItem("rssucc",1)):(t.changeCap(),n?t.formTips[n]=o:t.formTips.tradePwd1=o),t.submitting=!1}).catch(function(i){t.submitting=!1})))}}}).$mount("#resetTradPwd")}},714:function(t,i){},97:function(t,i,e){t.exports=e(13)(47)}},[713]);
//# sourceMappingURL=index.passwordupgrade.e043722b6ff5e8b4.js.map