{"version":3,"sources":["webpack:///./node_modules/babel-runtime/helpers/defineProperty.js","webpack:///./src/nPages/user.candy.js","webpack:///./src/nStyle/user/candy/user_candy.scss","webpack:///./src/tools/getQuery.js"],"names":["Vue","use","candy","data","tab","activeList","clickList","dataList","tabLoging","no_data","nowStatus","errMesAlert","alertype","coinDetail","coinList","moverClick","tabChnage","mounted","nav","location","href","indexOf","coinClick","parseInt","getQuery","getCoinList","methods","nums","url","axios","post","then","res","status","length","gifts","coin","key","id","$http","msg","number","catch","err","callfn","components","$mount","GetQueryString","name","reg","RegExp","query","window","search","substr","match","context"],"mappings":"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","file":"js/user.candy.80f4a0ce6763cef5.js","sourcesContent":["\"use strict\";\n\nexports.__esModule = true;\n\nvar _defineProperty = require(\"../core-js/object/define-property\");\n\nvar _defineProperty2 = _interopRequireDefault(_defineProperty);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (obj, key, value) {\n  if (key in obj) {\n    (0, _defineProperty2.default)(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/helpers/defineProperty.js\n// module id = 125\n// module chunks = 2 9 10 11","import 'nStyle/init.scss';\r\nimport 'nStyle/theme.scss';\r\nimport 'nStyle/user/common.scss';\r\nimport 'nStyle/user_tables.scss';\r\nimport 'nStyle/user/candy/user_candy.scss';\r\n\r\nimport Vue from 'vue';\r\nimport http from 'plugins/http';\r\nVue.use(http);\r\nimport { nav } from 'nComponents/nav';\r\nimport Alert from 'nComponents/Alert';\r\nimport axios from 'axios';\r\n\r\n//table\r\n// import scrollTable from 'nComponents/scrollTable';\r\nimport getQuery from 'tools/getQuery.js';\r\n\r\n\r\nconst candy = new Vue({\r\n    data() {\r\n        return {\r\n            //tab的状态\r\n            // btc分叉 1 eth分叉 2 活动赠送币 3\r\n            tab: 1,\r\n            //活动领取列表\r\n            activeList: [],\r\n            //点赞列表\r\n            clickList: [],\r\n            //展示用数据\r\n            dataList: [],\r\n            //logding\r\n            tabLoging: false,\r\n            //没数据\r\n            no_data: false,\r\n            nowStatus: false,\r\n            errMesAlert: '',\r\n            //弹窗类型\r\n            alertype: '',\r\n            //币种详情\r\n            coinDetail: false,\r\n            //币种详情数据\r\n            coinList: {},\r\n            moverClick: false,\r\n            tabChnage: true,\r\n            //多次点击\r\n            moverClick: true,\r\n        };\r\n    },\r\n    mounted() {\r\n        nav();\r\n        if (location.href.indexOf('?tab') > -1) { this.coinClick(parseInt(getQuery('tab'))); } else { this.getCoinList(); }\r\n    },\r\n    methods: {\r\n        coinClick(nums) {\r\n            this.tab = nums;\r\n            this.no_data = false;\r\n            this.getCoinList();\r\n        },\r\n        //獲取也main數據\r\n        getCoinList() {\r\n            this.tabLoging = true;\r\n            let url = '';\r\n            if (this.tab === 1) { //持幣分紅\r\n                url = '/ajax_user/bonus';\r\n            } else if (this.tab === 2) { //wcg活动领取列表\r\n                url = '/ajax_user/reward';\r\n            } else { //点赞列表\r\n                url = '/ajax_user/likes';\r\n            }\r\n            axios.post(url).then(\r\n                (res) => {\r\n                    let { data, status } = res.data;\r\n                    if (status == 1) {\r\n                        this.dataList = data\r\n                    }\r\n                }).then(() => {\r\n                this.tabLoging = false;\r\n                if (this.dataList.length > 0) {\r\n                    this.no_data = false;\r\n                } else {\r\n                    this.no_data = true;\r\n                }\r\n            });\r\n        },\r\n        // 点击领取\r\n        gifts(coin, key, id) {\r\n            if (!this.moverClick) return;\r\n            this.moverClick = false;\r\n            let url = '',\r\n                data = {};\r\n            if (this.tab === 1) { //持幣分紅\r\n                url = '/ajax_user/getBonus';\r\n                data = { coin };\r\n            } else if (this.tab === 2) {\r\n                url = '/ajax_user/receiveReward ';\r\n                data = { id };\r\n            } else { //\r\n                url = '/ajax_user/likesReward ';\r\n                data = { id };\r\n            }\r\n            this.$http.post(url, data)\r\n                .then((res) => {\r\n                    this.moverClick = true;\r\n                    this.nowStatus = true;\r\n                    this.errMesAlert = res.msg;\r\n                    this.alertype = 'gift';\r\n                    if (res.status) {\r\n                        if (this.tab === 1) {\r\n                            this.dataList[key].number = res.data;\r\n                        } else {\r\n                            this.dataList[key].status = 2;\r\n                        }\r\n                    }\r\n                }).catch((err) => {\r\n                    this.moverClick = true;\r\n                });\r\n        },\r\n        callfn() {\r\n            if (this.alertype === 'gifr') {\r\n                this.getCoinList();\r\n            }\r\n        },\r\n\r\n    },\r\n    components: {\r\n        // scrollTable\r\n    }\r\n}).$mount('#candy');\r\nexport default candy;\n\n\n// WEBPACK FOOTER //\n// ./src/nPages/user.candy.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nStyle/user/candy/user_candy.scss\n// module id = 840\n// module chunks = 10","export default function GetQueryString(name) {\r\n  let reg = new RegExp(\"(^|&)\" + name + \"=([^&]*)(&|$)\", \"i\");\r\n  // 获取url中\"?\"符后的字符串并正则匹配\r\n  let query = window.location.search.substr(1).match(reg);\r\n  let context = \"\";\r\n  if (query != null) context = query[2];\r\n  reg = null;\r\n  query = null;\r\n  return context == null || context == \"\" || context == \"undefined\" ? \"\" : context;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/tools/getQuery.js"],"sourceRoot":""}